<script type="text/html" id="teams-template" append-to='head'>
	<!-- ko if: length -->
	<header class="jumbotron subhead">
		<h1>Dashboard</h1>
		<p class="lead">The current status of your teams and their members.</p>
	</header>

	<section>
	<div data-bind="foreach: $data">
		<div class="row">	
			<div class="span2">
				<a data-bind="attr: {href: prepUrl}"><h2 data-bind="text: teamName">Team Name</h2><i class="icon-th-list"></i></a>
			</div>
			<div class="span6">
				<ul data-bind="foreach: teamMembers" class="team-member-list">
					<li><a data-bind="attr : { href: $data.prepUrl }, text : name"></a><span data-bind="ifnot: $parent.teamMembers.last($data)">, </span></li>
				</ul>
			</div>
		</div>
	</div>
	</section>
	<!-- /ko -->
</script>

<script type="text/html" id="team-template" append-to='head'>
	<!-- ko if: id -->
	<h1><span data-bind="text: teamName"></span></h1>
	<div data-bind="foreach: currentStatuses">
		<p class="status">
			<a class="member-name" data-bind="text: member, attr : { href: prepUrl }"></a>
			<!-- ko if: status -->
			<span class="member-status callout border-callout" data-bind="with: status">
				<span class="member-status-text" data-bind="text: description"></span>
				<span class="member-status-since">(For <span data-bind="text: since, attr : { title : started_on}"></span>)</span>
			</span>
			<!-- /ko -->
			<span data-bind="ifnot: status">No status available.</span>
		</p>
	</div>
	<!-- /ko -->
	<!-- /ko -->
</script>

<div data-bind="template: { name: 'teams-template', data: teams }" append-to='#content'></div>
<div data-bind="template: { name: 'team-template', data : team }" append-to='#content'></div>
<ul class="nav" append-to='#nav-details'>
	<li data-bind="visible: team.id" class="hide"><a href="/teams">Teams</a></li>
</ul>
